# Застосунок для накопичення даних про погоду
Застосунок написаний на основі `Flask`\
Доступ відбувається на основі перевірки токена запиту з вже існуючими\
`apitoken` = '49793382777636623217232494406695'\
Ключ у форматі числа з 32 цифрами

## Запуск/зупинка потоку накопичення інформації про погоду конкретного міста
### Змінні
`city` = 'Kyiv' - конкретна назва міста\
`status` = ['start', 'end'] - флаг початку і завершення
### Особливості роботи
У результаті запиту зі `status = start`, програма запускає новий потік (thread) для накопичення даних погоди про конкретне місто. Перше значення після запиту надходить до бази даних одразу. Далі, запит на дані про погоду робиться що години об **:00:00, але сервіс який надає цю інформацію зазвичай дає вже застарілі значення (<10 хв).\
У результаті запиту зі `status = end`, програма записує назву міста до списку на завершення потоку і перед наступним запитом на сервер погоди він завершується. Без цієї опції потік може працювати "нескінченно".
### Приклад запиту:
```
request.post('http://127.0.0.1:5000//weather/track/city=Kyiv&status=start&apitoken=49793382777636623217232494406695')
```

## Отримання погодинних даних про погоду за конретний заданий день на основі даних накопичених раніше
### Змінні
`city` = 'Lviv' - конкретна назва міста\
`date` = '%Y-%m-%d' - формат дати\
`format` = ['index', 'value'] - опція виводу результату, де при значенні параметру 'index' для кожногої години формується окремa json структура, а при 'value' для кожного ключа зазначенні одразу всі дані за добу у форматі list()
### Особливості роботи
У якості примітивної бази даних використовується файл формату `*.csv`, доступ до якого кожного разу відбувається через його повне завантаження, але, формат дозволяє вже готові данні відправляти у будь-який доступний сервіс.\
(для конвертації формату `dataframe` знову у `json` використувався костиль)
### Приклад запиту:
```
request.get('http://127.0.0.1:5000//weather/city=Lviv&date=2025-03-23&format=index&apitoken=49793382777636623217232494406695')
```
